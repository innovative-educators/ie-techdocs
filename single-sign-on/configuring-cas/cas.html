<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-single-sign-on/configuring-cas/cas" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.0">
<title data-rh="true">Configuring CAS (2.0 / 3.0) | IE Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://techdocs.innovativeeducators.org/single-sign-on/configuring-cas/cas"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Configuring CAS (2.0 / 3.0) | IE Docs"><meta data-rh="true" name="description" content="For clarification on terms in these docs, please refer to the Definition of Terms page"><meta data-rh="true" property="og:description" content="For clarification on terms in these docs, please refer to the Definition of Terms page"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://techdocs.innovativeeducators.org/single-sign-on/configuring-cas/cas"><link data-rh="true" rel="alternate" href="https://techdocs.innovativeeducators.org/single-sign-on/configuring-cas/cas" hreflang="en"><link data-rh="true" rel="alternate" href="https://techdocs.innovativeeducators.org/single-sign-on/configuring-cas/cas" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.f4858826.css">
<script src="/assets/js/runtime~main.4fd49974.js" defer="defer"></script>
<script src="/assets/js/main.0466578b.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/ie_logo_long.png" alt="IE Docs Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/ie_logo_long_white.png" alt="IE Docs Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Welcome</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/single-sign-on/introduction">Single Sign On (SSO)</a><button aria-label="Collapse sidebar category &#x27;Single Sign On (SSO)&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/single-sign-on/configuring-saml/saml2">Configuring SAML 2.0</a><button aria-label="Expand sidebar category &#x27;Configuring SAML 2.0&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/single-sign-on/configuring-cas/cas">Configuring CAS</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/single-sign-on/existing-learners">Have existing learners?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/single-sign-on/federated-idp">Using a Federated IdP?</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/data-integrations/introduction">Data Integrations</a><button aria-label="Expand sidebar category &#x27;Data Integrations&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/definition-of-terms">Definition of Terms</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/single-sign-on/introduction"><span itemprop="name">Single Sign On (SSO)</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Configuring CAS</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Configuring CAS (2.0 / 3.0)</h1>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>For clarification on terms in these docs, please refer to the <a href="/definition-of-terms">Definition of Terms</a> page</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction">Introduction<a href="#introduction" class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction">​</a></h2>
<p>In many cases the CAS configuration for the SP requires only a few key pieces of information to set up basic authentication. The IdP may require more in-depth configuration in order to meet the needs of your integration.  You will need to refer to your IdP documentation for any advanced configuration. Because this configuration can differ from IdP to IdP, we are unable to provide specific instructions for every IdP.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="implementation-overview">Implementation Overview<a href="#implementation-overview" class="hash-link" aria-label="Direct link to Implementation Overview" title="Direct link to Implementation Overview">​</a></h2>
<ol>
<li>
<p><strong>Have a running Identity Provider (IdP)</strong> that supports CAS SSO protocols to integrate with IE as the Service Provider (SP). <a href="/single-sign-on/introduction#sso-support">See docs for some specific IDPs here</a>.</p>
</li>
<li>
<p><strong><a href="#configuring-the-idp">Configure your IdP server</a></strong></p>
</li>
<li>
<p><strong><a href="#configuring-the-sp">Share your IdP Details</a></strong> with your IE representative so they can configure your client. For CAS this typically means the IE validation endpoint (aka CAS server url / serviceValidate endpoint).</p>
</li>
<li>
<p><strong><a href="#authentication">Construct a Learner Login URL</a></strong> to your instance for students to use for authentication. You&#x27;ll need a service URL provided by IE and potentially more depending on your circumstances.</p>
</li>
<li>
<p><strong><a href="#testing">Test Authentication</a></strong> making configuration adjustments as needed. This entails you attempt logging in via SSO (Login URL provided by IE as needed) and your IE rep will consult the SP logs and make / suggest changes if required.</p>
</li>
<li>
<p><strong><a href="#redirect-urls">Share your SP Redirect URLs</a></strong> for a better user experience. With SSO enabled and accounts controlled by the IDP, learners have no need for the SP <code>Logout</code> or <code>Account</code> pages anymore. These pages will require redirection to equivalent pages in your system, so share redirect URLs with IE to configure.</p>
</li>
</ol>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Have Existing Learners?</div><div class="admonitionContent_BuS1"><p>Changing your SSO configuration for a client with <strong>existing learners</strong> comes with some additional challenges. <a href="/single-sign-on/existing-learners">See details here</a>.</p></div></div>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Using a Federated IdP?</div><div class="admonitionContent_BuS1"><p>Using a federated Identity Provider (district level, 3rd party etc) comes with some additional considerations. <a href="/single-sign-on/federated-idp">See details here</a>.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="configuring-the-sp">Service Provider Configuration<a href="#configuring-the-sp" class="hash-link" aria-label="Direct link to Service Provider Configuration" title="Direct link to Service Provider Configuration">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="what-ie-needs-from-you">What IE needs from you<a href="#what-ie-needs-from-you" class="hash-link" aria-label="Direct link to What IE needs from you" title="Direct link to What IE needs from you">​</a></h3>
<p>Please provide your IE representative the following, so they can configure your SP client.</p>
<ol>
<li>
<p>The <code>serviceValidate endpoint</code> for your CAS server.</p>
<p>If your CAS server is available at <a href="https://casserver.org/" target="_blank" rel="noopener noreferrer">https://casserver.org/</a>, then your CAS serviceValidate endpoint is most likely:</p>
<ul>
<li><a href="https://casserver.org/cas/serviceValidate" target="_blank" rel="noopener noreferrer">https://casserver.org/cas/serviceValidate</a> for CAS 2.0</li>
<li><a href="https://casserver.org/cas/p3/serviceValidate" target="_blank" rel="noopener noreferrer">https://casserver.org/cas/p3/serviceValidate</a> for CAS 3.0</li>
</ul>
<!-- -->
</li>
<li>
<p><code>Account Redirect URLs</code> With SSO enabled for your client, learners will have no need for the Login, Register or Account pages on the SP side. These pages should be redirected to relevant pages on the IdP side. Please provide the following types of redirect URLs to your IE representative to configure.</p>
</li>
</ol>
<details class="details_lb9f alert alert--info details_b_Ee alert alert--secondary" data-collapsed="true"><summary>Account Details URL (required)</summary><div><div class="collapsibleContent_i85q"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="usage">Usage:<a href="#usage" class="hash-link" aria-label="Direct link to Usage:" title="Direct link to Usage:">​</a></h4><p>The account details page is replaced by an &quot;Account Details&quot; button which links to the URL provided.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="details">Details:<a href="#details" class="hash-link" aria-label="Direct link to Details:" title="Direct link to Details:">​</a></h4><p>We recommend this URL to point to a corresponding page on the IdP side where learners can adjust their account or profile settings, such as name, email, or password if available. With SSO enabled, any changes made on the IdP side will be reflected on the SP side the next time the user authenticates.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="types-of-pages-on-the-idp-side-to-consider">Types of pages on the IdP side to consider:<a href="#types-of-pages-on-the-idp-side-to-consider" class="hash-link" aria-label="Direct link to Types of pages on the IdP side to consider:" title="Direct link to Types of pages on the IdP side to consider:">​</a></h4><ul>
<li>Profile Settings Page</li>
<li>Password Reset Page</li>
<li>Home Page</li>
</ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="example">Example:<a href="#example" class="hash-link" aria-label="Direct link to Example:" title="Direct link to Example:">​</a></h4><p><code>https://www.yourdomain.com/settings</code></p></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee alert alert--secondary" data-collapsed="true"><summary>Logout URL (required)</summary><div><div class="collapsibleContent_i85q"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="usage-1">Usage:<a href="#usage-1" class="hash-link" aria-label="Direct link to Usage:" title="Direct link to Usage:">​</a></h4><p>This redirects the logout button (in the profile dropdown menu) to the URL provided.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="details-1">Details:<a href="#details-1" class="hash-link" aria-label="Direct link to Details:" title="Direct link to Details:">​</a></h4><p>This, on it&#x27;s own, only logs the learner out of the SP platform and not out of SSO or the IdP side. For circumstances like a shared computer terminal, it&#x27;s important that learners know they aren&#x27;t logged out of IdP accounts when they log out of the SP platform via this URL.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="types-of-pages-on-the-idp-side-to-consider-1">Types of pages on the IdP side to consider:<a href="#types-of-pages-on-the-idp-side-to-consider-1" class="hash-link" aria-label="Direct link to Types of pages on the IdP side to consider:" title="Direct link to Types of pages on the IdP side to consider:">​</a></h4><ul>
<li>Home Page</li>
<li>Internal Dashboard Page</li>
<li>A Logout URL (if available) to log the user out of the IdP</li>
<li>Specific Page letting learners know they&#x27;re not logged out of their IdP yet (if applicable)</li>
</ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="example-1">Example:<a href="#example-1" class="hash-link" aria-label="Direct link to Example:" title="Direct link to Example:">​</a></h4><p><code>https://www.yourdomain.com/logout</code></p></div></div></details>
<!-- -->
<ol start="3">
<li><code>Date to begin enforcing SSO</code> Once SSO is complete, when would you like to turn off (redirect) native registration. This is mostly relevant for clients who already have learners utilizing native registration. If you don&#x27;t have any learners using native registration, this redirect can be configured immediately.</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="configuring-the-idp">Identity Provider Configuration<a href="#configuring-the-idp" class="hash-link" aria-label="Direct link to Identity Provider Configuration" title="Direct link to Identity Provider Configuration">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="external-customer-id">Configure the externalCustomerID<a href="#external-customer-id" class="hash-link" aria-label="Direct link to Configure the externalCustomerID" title="Direct link to Configure the externalCustomerID">​</a></h3>
<p>The <code>cas:user</code> is the unique ID that will identify CAS users coming from the IdP. This value is stored internally as <code>externalCustomerId</code>, and when a learner authenticates, it is used to determine whether to connect them to their pre-existing account or provision them a new one, if this is the learner&#x27;s first time authenticating. The attributes passed by the IdP will be used to create the new account, or if connecting to a pre-existing account, the attributes passed by the IdP will be used to update it.</p>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Important</div><div class="admonitionContent_BuS1"><p>To avoid account clashes, the <code>externalCustomerId</code> value must be unique amongst <strong>all learners</strong> from <strong>all clients</strong> in the same instance. With sometimes hundreds of clients in the same instance, this can mean 100s of thousands of users. See below for recommendations on how to configure this value.</p></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>In WSO2 the <code>cas:user</code> is controlled by the field (Subject Claim URI)</p></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="requirements">Requirements<a href="#requirements" class="hash-link" aria-label="Direct link to Requirements" title="Direct link to Requirements">​</a></h4>
<ul>
<li>
<p><strong>Must be unique across the instance:</strong>  The value of the <code>externalCustomerId</code> must be unique across all learners of every client in an instance. This means that if you share an instance with other clients (almost everyone), then your ID must not clash with other client&#x27;s learners.</p>
</li>
<li>
<p><strong>Some good options include</strong>:</p>
<ul>
<li>Email Addresses</li>
<li>An ID random enough to be sufficiently collision resistant</li>
<li>Appending the school domain name to an ID like this <code>id130242@schooldomain.com</code></li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="recommendations">Recommendations<a href="#recommendations" class="hash-link" aria-label="Direct link to Recommendations" title="Direct link to Recommendations">​</a></h4>
<ul>
<li>
<p><strong>An ID that doesn&#x27;t change:</strong> Since this value used to sync learner to their accounts or create a new account if one doesn&#x27;t exist for a learner, it&#x27;s recommended that this value be from a source that doesn&#x27;t change. If the value does change, then the learner will receive a fresh account upon authenticating and will lose all previous progress.</p>
<ul>
<li>
<p><strong>Email Address:</strong> Sending an email as the <code>externalCustomerId</code> can occasionally cause this if learner&#x27;s email is tied to their name in a way where any changes to their name causes a change to their email. That said, email addresses are used by many clients without much headache. Though it isn&#x27;t the perfect solution, a majority of our clients consider it good enough.</p>
</li>
<li>
<p><strong>Unique IDs:</strong> If available, an ID with sufficient randomness to be collision resistant, or appending a domain or school name to less random ID like this <code>id130242@schooldomain.com</code>, has the benefits of being both unique and unchanging. This tends to be the optimal approach and is what we recommend first if available.</p>
</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="configure-attributes">Configure Attributes<a href="#configure-attributes" class="hash-link" aria-label="Direct link to Configure Attributes" title="Direct link to Configure Attributes">​</a></h3>
<p>We support the following attributes that can be mapped from your IdP. The attributes returned in the authentication request, as well as the attribute names, will vary depending on the IdP. Check with your IdP to determine the available attributes.</p>
<p>The following list of attributes are available for mapping to any attribute returned from your IdP.</p>
<table><thead><tr><th>Attribute</th><th>Type</th><th>Description</th><th>Required?</th></tr></thead><tbody><tr><td><code>firstname</code></td><td>string</td><td>The first name of the learner</td><td>Recommended</td></tr><tr><td><code>lastname</code></td><td>string</td><td>The last name of the learner</td><td>Recommended</td></tr><tr><td><code>email</code></td><td>string</td><td>The email address of the learner</td><td>Recommended</td></tr><tr><td><code>ref1</code></td><td>string</td><td>Data to be associated with the user in reports. examples: role, department, major, title, year, studentId</td><td>Optional</td></tr><tr><td><code>ref2</code></td><td>string</td><td>Data to be associated with the user...</td><td>Optional</td></tr><tr><td><code>ref3</code></td><td>string</td><td>Data to be associated with the user...</td><td>Optional</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="example">Example<a href="#example" class="hash-link" aria-label="Direct link to Example" title="Direct link to Example">​</a></h4>
<p>The following is an example of a successful CAS ticket validation:</p>
<div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token prolog" style="color:#999988;font-style:italic">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag namespace" style="color:#00009f;opacity:0.7">cas:</span><span class="token tag" style="color:#00009f">serviceResponse</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name namespace" style="color:#00a4db;opacity:0.7">xmlns:</span><span class="token tag attr-name" style="color:#00a4db">cas</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">http://www.yale.edu/tp/cas</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag namespace" style="color:#00009f;opacity:0.7">cas:</span><span class="token tag" style="color:#00009f">authenticationSuccess</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag namespace" style="color:#00009f;opacity:0.7">cas:</span><span class="token tag" style="color:#00009f">user</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">test</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag namespace" style="color:#00009f;opacity:0.7">cas:</span><span class="token tag" style="color:#00009f">user</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag namespace" style="color:#00009f;opacity:0.7">cas:</span><span class="token tag" style="color:#00009f">attributes</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag namespace" style="color:#00009f;opacity:0.7">cas:</span><span class="token tag" style="color:#00009f">firstname</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">bob</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag namespace" style="color:#00009f;opacity:0.7">cas:</span><span class="token tag" style="color:#00009f">firstname</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag namespace" style="color:#00009f;opacity:0.7">cas:</span><span class="token tag" style="color:#00009f">lastname</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">jones</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag namespace" style="color:#00009f;opacity:0.7">cas:</span><span class="token tag" style="color:#00009f">lastname</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag namespace" style="color:#00009f;opacity:0.7">cas:</span><span class="token tag" style="color:#00009f">email</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">bobjones@example.org</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag namespace" style="color:#00009f;opacity:0.7">cas:</span><span class="token tag" style="color:#00009f">email</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag namespace" style="color:#00009f;opacity:0.7">cas:</span><span class="token tag" style="color:#00009f">attributes</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag namespace" style="color:#00009f;opacity:0.7">cas:</span><span class="token tag" style="color:#00009f">authenticationSuccess</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag namespace" style="color:#00009f;opacity:0.7">cas:</span><span class="token tag" style="color:#00009f">serviceResponse</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="learner-access-restrictions">Learner Access Restrictions<a href="#learner-access-restrictions" class="hash-link" aria-label="Direct link to Learner Access Restrictions" title="Direct link to Learner Access Restrictions">​</a></h3>
<p>All access restrictions, or lack there of, are handled on the IdP side of things. So if applicable, make sure sufficent role permissions have been granted to the learners who&#x27;ll need access to the IE platform before they need it.</p>
<p>From IE&#x27;s perspective, there&#x27;s not much downside to providing access to all accounts in the IdP side (ie no restrictions) as learners who need access to the IE content may change, and any learners who no longer need access or who never needed it will typically avoid.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="authentication">Authentication<a href="#authentication" class="hash-link" aria-label="Direct link to Authentication" title="Direct link to Authentication">​</a></h2>
<p>Direct your users to login to your CAS server with the &quot;service&quot; query parameter set to the URI Encoded Service URL.</p>
<p><code>https://&lt;CAS Server Domain&gt;/login</code><strong><code>?service=&lt;URI Encoded Service URL&gt;</code></strong></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="to-build-this-url-follow-these-steps">To build this URL, follow these steps:<a href="#to-build-this-url-follow-these-steps" class="hash-link" aria-label="Direct link to To build this URL, follow these steps:" title="Direct link to To build this URL, follow these steps:">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1-construct-the-service-url">1. Construct the Service URL<a href="#1-construct-the-service-url" class="hash-link" aria-label="Direct link to 1. Construct the Service URL" title="Direct link to 1. Construct the Service URL">​</a></h4>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="start-with-the-base-url">Start with the Base URL:<a href="#start-with-the-base-url" class="hash-link" aria-label="Direct link to Start with the Base URL:" title="Direct link to Start with the Base URL:">​</a></h5>
<p>Start by constructing the base of the URL depending on which IE product you&#x27;re configuring for. Combine the https protocol, IE product domain, and cas access path:</p>
<ul>
<li><code>https://</code><a href="/definition-of-terms#product-domain"><code>&lt;product-domain&gt;</code></a><code>/access/cas</code></li>
<li><strong>Example</strong>: <a href="#">https:// <strong>www.studentlingo.com</strong> /access/cas</a></li>
</ul>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="add-license-id">Add License ID:<a href="#add-license-id" class="hash-link" aria-label="Direct link to Add License ID:" title="Direct link to Add License ID:">​</a></h5>
<p>Next, you&#x27;ll need to specify a License ID to connect the incoming student with your Client in our system. You can obtain your client&#x27;s License ID from your IE representative. Treat this License ID as a secret, similar to a password.</p>
<p>Add a <code>licenseId</code> query parameter and value to Base Service URL <strong>(params are case sensitive)</strong>:</p>
<ul>
<li><code>https://</code><a href="/definition-of-terms#product-domain"><code>&lt;product-domain&gt;</code></a><code>/access/cas</code><strong><code>?licenseId=&lt;License ID&gt;</code></strong></li>
<li><strong>Example</strong>: <a href="#">https://www.studentlingo.com/access/cas <strong>?licenseId=5090b9e3-5542-4050-b863-8429fc03ad5b</strong></a></li>
</ul>
<!-- -->
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="add-redirects-optional">Add Redirects (Optional):<a href="#add-redirects-optional" class="hash-link" aria-label="Direct link to Add Redirects (Optional):" title="Direct link to Add Redirects (Optional):">​</a></h5>
<p>You can optionally specify a URL of a page to redirect the user to after successful authentication. After the SP validates the ticket from your CAS server, it will grant the user access and direct them to the specified returnTo URL, or the student dashboard if no URL was provided.</p>
<p>To do this, add a <code>returnTo</code> query parameter and value to the URL <strong>(params are case sensitive)</strong>. Note: both a returnTo and a licenseId can be specified within the same request:</p>
<ul>
<li><code>https://</code><a href="/definition-of-terms#product-domain"><code>&lt;product-domain&gt;</code></a><code>/access/cas?licenseId=&lt;License ID&gt;</code><strong><code>&amp;returnTo=&lt;Return to URL&gt;</code></strong></li>
<li><strong>Example</strong> redirecting to the course catalog: <a href="#">https://www.studentlingo.com/access/cas?licenseId=5090b9e3-5542-4050-b863-8429fc03ad5b <strong>&amp;returnTo=https://www.studentlingo.org/catalog</strong></a></li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2-uri-encode-the-service-url">2. URI Encode the Service URL<a href="#2-uri-encode-the-service-url" class="hash-link" aria-label="Direct link to 2. URI Encode the Service URL" title="Direct link to 2. URI Encode the Service URL">​</a></h4>
<p>Once you have a complete Service URL, it must be URI encoded before it can be added to the CAS login URL. This will ensure structural integrity during URL parsing.</p>
<ul>
<li>If the URL is: <code>https://www.studentlingo.com/access/cas?licenseId=5090b9e3-5542-4050-b863-8429fc03ad5b</code></li>
<li><strong>Example</strong>: <a href="#">https <strong>%3A%2F%2F</strong> www.studentlingo.com <strong>%2F</strong> access <strong>%2F</strong> cas <strong>%3F</strong> licenseId <strong>%3D</strong> 5090b9e3-5542-4050-b863-8429fc03ad5b</a></li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="3-add-to-cas-login-url-via-service-parameter">3. Add to CAS Login URL via Service Parameter<a href="#3-add-to-cas-login-url-via-service-parameter" class="hash-link" aria-label="Direct link to 3. Add to CAS Login URL via Service Parameter" title="Direct link to 3. Add to CAS Login URL via Service Parameter">​</a></h4>
<p>Lastly, add a <code>service</code> query parameter to the CAS Login URL and set its value to the URI encoded Service URL:</p>
<ul>
<li><code>https://&lt;CAS Server Domain&gt;/login</code><strong><code>?service=&lt;URI Encoded Service URL&gt;</code></strong></li>
<li><strong>Example</strong>: <a href="#">https://www.casserver.org/login <strong>?service=https%3A%2F%2Fwww.studentlingo.com%2Faccess%2Fcas%3FlicenseId%3D5090b9e3-5542-4050-b863-8429fc03ad5b</strong></a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="testing">Testing Authentication<a href="#testing" class="hash-link" aria-label="Direct link to Testing Authentication" title="Direct link to Testing Authentication">​</a></h2>
<p>It&#x27;s important to test the authentication flow before going live. This will ensure that the integration has been configured successfully before learners attempt to access their content.</p>
<p>To test, simply</p>
<ol>
<li><strong>Authenticate</strong> from an incognito browser, using the SP login URL to authenticate into the IE platform through SSO.</li>
<li><strong>Notify your IE representative</strong> Once notified, IE will consult the SSO logs and verify the correct user details are being sent over.</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="troubleshooting">Troubleshooting<a href="#troubleshooting" class="hash-link" aria-label="Direct link to Troubleshooting" title="Direct link to Troubleshooting">​</a></h2>
<p>If authenitcation was successful, you should be redirected to the IE platform and logged in. If you are not logged in, and are still located on the IdP side, there&#x27;s most likely an issue with the configuration on the IdP side.</p>
<p>If on the other hand you are seeing an error, notify your IE representative for next steps. Please include any error messages you see, as well as the page URL used to authenticate and the page URL of the error.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/innovative-educators/ie-docs/blob/master/docs/single-sign-on/configuring-cas/cas.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/single-sign-on/configuring-saml/shibboleth"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">with Shibboleth</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/single-sign-on/existing-learners"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Have existing learners?</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction" class="table-of-contents__link toc-highlight">Introduction</a></li><li><a href="#implementation-overview" class="table-of-contents__link toc-highlight">Implementation Overview</a></li><li><a href="#configuring-the-sp" class="table-of-contents__link toc-highlight">Service Provider Configuration</a><ul><li><a href="#what-ie-needs-from-you" class="table-of-contents__link toc-highlight">What IE needs from you</a></li></ul></li><li><a href="#configuring-the-idp" class="table-of-contents__link toc-highlight">Identity Provider Configuration</a><ul><li><a href="#external-customer-id" class="table-of-contents__link toc-highlight">Configure the externalCustomerID</a></li><li><a href="#configure-attributes" class="table-of-contents__link toc-highlight">Configure Attributes</a></li><li><a href="#learner-access-restrictions" class="table-of-contents__link toc-highlight">Learner Access Restrictions</a></li></ul></li><li><a href="#authentication" class="table-of-contents__link toc-highlight">Authentication</a></li><li><a href="#testing" class="table-of-contents__link toc-highlight">Testing Authentication</a></li><li><a href="#troubleshooting" class="table-of-contents__link toc-highlight">Troubleshooting</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://twitter.com/ietrainings" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/innovative-educators/ie-docs" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Innovative Educators.</div></div></div></footer></div>
</body>
</html>