"use strict";(self.webpackChunkie_techdocs=self.webpackChunkie_techdocs||[]).push([[534],{7629:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>f,contentTitle:()=>h,default:()=>p,frontMatter:()=>c,metadata:()=>u,toc:()=>x});var r=n(5893),s=n(1151),i=n(4866),l=n(5162),a=n(9286),o=n(7229);const d="id,source,timestamp,type,user,companyId,event,notifiableId,title,userDetail.id,userDetail.firstName,userDetail.lastName,userDetail.externalCustomerId,userDetail.sfContactId,userDetail.sfAccountId,userDetail.client,userDetail.ref1,userDetail.ref2,userDetail.ref3\n32ed16df-27cb-5f72-90ff-4eaf39346f86,course_completed,2019-10-17T20:50:53.103Z,status_change,bobjohnson@school.edu,3aabdfb8-3891-5011-ad35-8e2351c5fdaf,courseCompletion,7670fdbe-15ed-504b-a680-d404fa4b0eb4,New Student Orientation,61149b2c-3f37-5032-be63-f5d984de10b6,Bob,Johnson,studentid12345@school.edu,null,null,00f928f4-8718-5043-9164-32398b165c60,StudentID12345,Department?,...",c={sidebar_position:2,toc_max_heading_level:2,pagination_next:null},h="SFTP - Events Nightly",u={id:"data-integrations/sftp",title:"SFTP - Events Nightly",description:"Descriptoin",source:"@site/docs/data-integrations/sftp.mdx",sourceDirName:"data-integrations",slug:"/data-integrations/sftp",permalink:"/data-integrations/sftp",draft:!1,unlisted:!1,editUrl:"https://github.com/innovative-educators/ie-docs/blob/master/docs/data-integrations/sftp.mdx",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2,toc_max_heading_level:2,pagination_next:null},sidebar:"tutorialSidebar",previous:{title:"Webhooks - Live Events",permalink:"/data-integrations/webhooks"}},f={},x=[{value:"Descriptoin",id:"descriptoin",level:2},{value:"Integration Details",id:"integration-details",level:2},{value:"Configuration",id:"configuration",level:2},{value:"Testing Your Integration",id:"testing-your-integration",level:2},{value:"Before your SFTP URL is configured on our end:",id:"before-your-sftp-url-is-configured-on-our-end",level:3},{value:"After your SFTP URL is configured on our end:",id:"after-your-sftp-url-is-configured-on-our-end",level:3},{value:"Authenticating Requests",id:"authenticating-requests",level:2},{value:"Event Details",id:"event-details",level:2},{value:"Trigger",id:"trigger",level:3},{value:"Notable Event Attributes",id:"notable-event-attributes",level:3},{value:"Sample Payload",id:"sample-payload",level:3}];function j(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.a)(),...e.components},{Details:n}=t;return n||function(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.h1,{id:"sftp---events-nightly",children:"SFTP - Events Nightly"}),"\n",(0,r.jsx)(t.h2,{id:"descriptoin",children:"Descriptoin"}),"\n",(0,r.jsx)(t.p,{children:"Data from events that occur on the platform can be sent in bluk to your SFTP server every night, where you can then process and/or pass this data onward to any third party system for automation / reporting / analytics purposes."}),"\n",(0,r.jsxs)(t.p,{children:["An SFTP Transfer is a nightly transfer of events from the platform to a secure client FTP (SFTP) in CSV or JSON format. For example, every night on an automated basis, you could receive a file containing all ",(0,r.jsx)(t.code,{children:"courseComplete"})," events that occurred over the previous day."]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.a,{href:"https://en.wikipedia.org/wiki/File_Transfer_Protocol#Simple_File_Transfer_Protocol&sa=D&sntz=1&usg=AOvVaw02ShwqdsfroJo6dvsXe-hy",children:"What is SFTP (Simple File Transfer Protocol)"}),"?"]}),"\n",(0,r.jsx)(t.h2,{id:"integration-details",children:"Integration Details"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Delivery Time"})," - SFTP transfers are fired at roughly 2am ET (timezone based on instance configuration, but usually ET) and continue every 24 hours until requested otherwise."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Delivery Format"})," - Files can be in either ",(0,r.jsx)(t.code,{children:"CSV"})," or ",(0,r.jsx)(t.code,{children:"JSON"})," format. ",(0,r.jsx)(t.a,{href:"#event-details",children:"See event details for more info"}),"."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Data Sent"})," - The file will contain all events from the previous day. For example, the SFTP transfer sent at 2am on Friday will contain all of Thursday's events."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Automation"})," - Files can be automatically detected and transformed into a format consumable by enterprise software / email marketing systems, or can be manually processed asynchronously."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Data Reliability"})," - The connection will time out in 60 seconds. If your server does not respond before the connection times out, or takes longer than 5 minutes total to transfer the file, we will consider the delivery of the message as a failed attempt.","\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"If SFTP transfer delivery fails, we will automatically retry over time. We will retry ten times total with an exponential backoff starting from 20 seconds up to 3600 seconds, giving up approximately 3.5 hours after the first SFTP transfer attempt."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(t.h2,{id:"configuration",children:"Configuration"}),"\n",(0,r.jsxs)(t.ol,{children:["\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsx)(t.p,{children:"Have a running and accessible SFTP server."}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["Send your IE representitive the SFTP URL where you would like files to be sent. The URL should include a ",(0,r.jsx)(t.code,{children:"username"}),", ",(0,r.jsx)(t.code,{children:"password"}),", ",(0,r.jsx)(t.code,{children:"domain"}),", ",(0,r.jsx)(t.code,{children:"port"}),", and ",(0,r.jsx)(t.code,{children:"path"}),"."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["Example: ",(0,r.jsx)(t.code,{children:"sftp://username:password@host:22/path"})]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"username"})," and ",(0,r.jsx)(t.code,{children:"password"})," should have the following special characters ",(0,r.jsx)(t.a,{href:"https://en.wikipedia.org/wiki/Percent-encoding",children:"percent-encoded"}),". Double check there are no erroneous spaces or other characters in the URL."]}),"\n"]}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"]"}),(0,r.jsx)(t.th,{children:"["}),(0,r.jsx)(t.th,{children:"?"}),(0,r.jsx)(t.th,{children:"/"}),(0,r.jsx)(t.th,{children:"<"}),(0,r.jsx)(t.th,{children:"~"}),(0,r.jsx)(t.th,{children:"#"}),(0,r.jsx)(t.th,{children:"`"}),(0,r.jsx)(t.th,{children:"!"}),(0,r.jsx)(t.th,{children:"@"}),(0,r.jsx)(t.th,{children:"$"}),(0,r.jsx)(t.th,{children:"%"}),(0,r.jsx)(t.th,{children:"^"}),(0,r.jsx)(t.th,{children:"&"}),(0,r.jsx)(t.th,{children:"*"}),(0,r.jsx)(t.th,{children:"}"}),(0,r.jsx)(t.th,{children:"+"}),(0,r.jsx)(t.th,{children:"="}),(0,r.jsx)(t.th,{children:":"}),(0,r.jsx)(t.th,{children:'"'}),(0,r.jsx)(t.th,{children:";"}),(0,r.jsx)(t.th,{children:"'"}),(0,r.jsx)(t.th,{children:","}),(0,r.jsx)(t.th,{children:">"}),(0,r.jsx)(t.th,{children:"{"}),(0,r.jsx)(t.th,{children:"space"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"%5D"}),(0,r.jsx)(t.td,{children:"%5B"}),(0,r.jsx)(t.td,{children:"%3F"}),(0,r.jsx)(t.td,{children:"%2F"}),(0,r.jsx)(t.td,{children:"%3C"}),(0,r.jsx)(t.td,{children:"%7E"}),(0,r.jsx)(t.td,{children:"%23"}),(0,r.jsx)(t.td,{children:"%60"}),(0,r.jsx)(t.td,{children:"%21"}),(0,r.jsx)(t.td,{children:"%40"}),(0,r.jsx)(t.td,{children:"%24"}),(0,r.jsx)(t.td,{children:"%25"}),(0,r.jsx)(t.td,{children:"%5E"}),(0,r.jsx)(t.td,{children:"%26"}),(0,r.jsx)(t.td,{children:"%2A"}),(0,r.jsx)(t.td,{children:"%7D"}),(0,r.jsx)(t.td,{children:"%2B"}),(0,r.jsx)(t.td,{children:"%3D"}),(0,r.jsx)(t.td,{children:"%3A"}),(0,r.jsx)(t.td,{children:"%22"}),(0,r.jsx)(t.td,{children:"%3B"}),(0,r.jsx)(t.td,{children:"%27"}),(0,r.jsx)(t.td,{children:"%2C"}),(0,r.jsx)(t.td,{children:"%3E"}),(0,r.jsx)(t.td,{children:"%7B"}),(0,r.jsx)(t.td,{children:"%20"})]})})]}),"\n",(0,r.jsxs)(t.ol,{start:"3",children:["\n",(0,r.jsxs)(t.li,{children:["Let us know your desired data format. Choices are: ",(0,r.jsx)(t.code,{children:"JSON"})," or ",(0,r.jsx)(t.code,{children:"CSV"}),". ",(0,r.jsx)(t.a,{href:"#event-details",children:"See event details for more info"}),"."]}),"\n"]}),"\n",(0,r.jsx)(t.h2,{id:"testing-your-integration",children:"Testing Your Integration"}),"\n",(0,r.jsx)(t.p,{children:"Here are a few strategies that you can employ in order to test the integration"}),"\n",(0,r.jsx)(t.h3,{id:"before-your-sftp-url-is-configured-on-our-end",children:"Before your SFTP URL is configured on our end:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["You can use the ",(0,r.jsx)(t.a,{href:"#event-details",children:"event examples"})," from our documentation to test against your automations directly. You can either copy and paste the file directly to your SFTP folder or use an SFTP client like ",(0,r.jsx)(t.a,{href:"https://filezilla-project.org/",children:"FileZilla"})," to send the file to your folder via SFTP."]}),"\n"]}),"\n",(0,r.jsx)(t.h3,{id:"after-your-sftp-url-is-configured-on-our-end",children:"After your SFTP URL is configured on our end:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"When configured, a test file will be sent to your SFTP server, which you can use to verify that the connection is working properly."}),"\n",(0,r.jsx)(t.li,{children:"You can confirm that a file is being sent to the correct location and in the desired format every night at around 2am ET. Then you can use this file to test your automations."}),"\n"]}),"\n",(0,r.jsx)(t.h2,{id:"authenticating-requests",children:"Authenticating Requests"}),"\n",(0,r.jsx)(t.p,{children:"For security reasons, you may want to limit requests to your endpoint to those coming from our platform. In order to authenticate incoming requests, you can allow access only to the ones coming from our IP addresses. All other requests should be blocked / ignored."}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"44.214.229.234"}),"\n",(0,r.jsx)(t.li,{children:"44.215.13.175"}),"\n",(0,r.jsx)(t.li,{children:"34.230.114.128"}),"\n",(0,r.jsx)(t.li,{children:"54.243.7.71"}),"\n"]}),"\n",(0,r.jsx)(t.h2,{id:"event-details",children:"Event Details"}),"\n",(0,r.jsxs)(n,{children:[(0,r.jsx)("summary",{children:"Course Completed"}),(0,r.jsx)(t.h3,{id:"trigger",children:"Trigger"}),(0,r.jsx)(t.p,{children:"When a learner completes a course (sent in batch nightly)"}),(0,r.jsx)(t.h3,{id:"notable-event-attributes",children:"Notable Event Attributes"}),(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Attribute"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"user"})}),(0,r.jsx)(t.td,{children:"The leaner's email address"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"notifiableId"})}),(0,r.jsx)(t.td,{children:"The ID of the course that was completed"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"userDetail.externalCustomerId"})}),(0,r.jsx)(t.td,{children:"The learner's ID, the value associated to their account. This value is utilized during SSO to associate the learner coming from the IDP with their account in the SP (IE product)."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"userDetail.ref1 \u2026 ref3"})}),(0,r.jsx)(t.td,{children:"Optional data passed from the IDP to the SP (IE product) during SSO can be found in these attributes."})]})]})]}),(0,r.jsx)(t.h3,{id:"sample-payload",children:"Sample Payload"}),(0,r.jsxs)(i.Z,{children:[(0,r.jsxs)(l.Z,{value:"json",label:"JSON",children:[(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"File Name Example:"})," ",(0,r.jsx)(t.code,{children:"courseCompletion-1589259213_2020-05-18T18-00-13-7vcph2i.json"})]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Format Notes:"})," Data will be an array of events sent in batch nightly. In other words, the standard JSON event for ",(0,r.jsx)(t.code,{children:"courseComplete"}),", but multiple of them grouped into an JSON array."]}),"\n"]}),(0,r.jsxs)(a.Z,{language:"json",showLineNumbers:!0,title:"courseCompletion-1589259213_2020-05-18T18-00-13-7vcph2i.json",children:["[",o.Z,"]"]})]}),(0,r.jsxs)(l.Z,{value:"csv",label:"CSV",children:[(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"File Name Example:"})," ",(0,r.jsx)(t.code,{children:"courseCompletion-1589259213_2020-05-18T18-00-13-7vcph2i.csv"})]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Format Notes:"})," Data will be the past days events sent in batch nightly \u2013 one ",(0,r.jsx)(t.code,{children:"courseComplete"})," event per row and a header row at the top."]}),"\n"]}),(0,r.jsxs)(a.Z,{language:"csv",showLineNumbers:!0,title:"courseCompletion-1589259213_2020-05-18T18-00-13-7vcph2i.csv",children:[d,(0,r.jsx)(t.p,{children:"..."})]})]})]})]})]})}function p(e={}){const{wrapper:t}={...(0,s.a)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(j,{...e})}):j(e)}},5162:(e,t,n)=>{n.d(t,{Z:()=>l});n(7294);var r=n(6010);const s={tabItem:"tabItem_Ymn6"};var i=n(5893);function l({children:e,hidden:t,className:n}){return(0,i.jsx)("div",{role:"tabpanel",className:(0,r.Z)(s.tabItem,n),hidden:t,children:e})}},4866:(e,t,n)=>{n.d(t,{Z:()=>w});var r=n(7294),s=n(6010),i=n(2466),l=n(6550),a=n(469),o=n(1980),d=n(7392),c=n(12);function h(e){return r.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function u(e){const{values:t,children:n}=e;return(0,r.useMemo)((()=>{const e=t??function(e){return h(e).map((({props:{value:e,label:t,attributes:n,default:r}})=>({value:e,label:t,attributes:n,default:r})))}(n);return function(e){const t=(0,d.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,n])}function f({value:e,tabValues:t}){return t.some((t=>t.value===e))}function x({queryString:e=!1,groupId:t}){const n=(0,l.k6)(),s=function({queryString:e=!1,groupId:t}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:e,groupId:t});return[(0,o._X)(s),(0,r.useCallback)((e=>{if(!s)return;const t=new URLSearchParams(n.location.search);t.set(s,e),n.replace({...n.location,search:t.toString()})}),[s,n])]}function j(e){const{defaultValue:t,queryString:n=!1,groupId:s}=e,i=u(e),[l,o]=(0,r.useState)((()=>function({defaultValue:e,tabValues:t}){if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!f({value:e,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const n=t.find((e=>e.default))??t[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:t,tabValues:i}))),[d,h]=x({queryString:n,groupId:s}),[j,p]=function({groupId:e}){const t=function(e){return e?`docusaurus.tab.${e}`:null}(e),[n,s]=(0,c.Nk)(t);return[n,(0,r.useCallback)((e=>{t&&s.set(e)}),[t,s])]}({groupId:s}),m=(()=>{const e=d??j;return f({value:e,tabValues:i})?e:null})();(0,a.Z)((()=>{m&&o(m)}),[m]);return{selectedValue:l,selectValue:(0,r.useCallback)((e=>{if(!f({value:e,tabValues:i}))throw new Error(`Can't select invalid tab value=${e}`);o(e),h(e),p(e)}),[h,p,i]),tabValues:i}}var p=n(2389);const m={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var b=n(5893);function g({className:e,block:t,selectedValue:n,selectValue:r,tabValues:l}){const a=[],{blockElementScrollPositionUntilNextRender:o}=(0,i.o5)(),d=e=>{const t=e.currentTarget,s=a.indexOf(t),i=l[s].value;i!==n&&(o(t),r(i))},c=e=>{let t=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const n=a.indexOf(e.currentTarget)+1;t=a[n]??a[0];break}case"ArrowLeft":{const n=a.indexOf(e.currentTarget)-1;t=a[n]??a[a.length-1];break}}t?.focus()};return(0,b.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.Z)("tabs",{"tabs--block":t},e),children:l.map((({value:e,label:t,attributes:r})=>(0,b.jsx)("li",{role:"tab",tabIndex:n===e?0:-1,"aria-selected":n===e,ref:e=>a.push(e),onKeyDown:c,onClick:d,...r,className:(0,s.Z)("tabs__item",m.tabItem,r?.className,{"tabs__item--active":n===e}),children:t??e},e)))})}function v({lazy:e,children:t,selectedValue:n}){const s=(Array.isArray(t)?t:[t]).filter(Boolean);if(e){const e=s.find((e=>e.props.value===n));return e?(0,r.cloneElement)(e,{className:"margin-top--md"}):null}return(0,b.jsx)("div",{className:"margin-top--md",children:s.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==n})))})}function y(e){const t=j(e);return(0,b.jsxs)("div",{className:(0,s.Z)("tabs-container",m.tabList),children:[(0,b.jsx)(g,{...e,...t}),(0,b.jsx)(v,{...e,...t})]})}function w(e){const t=(0,p.Z)();return(0,b.jsx)(y,{...e,children:h(e.children)},String(t))}},7229:(e,t,n)=>{n.d(t,{Z:()=>r});const r='{\n  "id": "32ed16df-27cb-5f72-90ff-4eaf39346f86",\n  "source": "course_completed",\n  "timestamp": "2019-10-17T20:50:53.103Z",\n  "type": "status_change",\n  // highlight-next-line\n  "user": "bobjohnson@school.edu",\n  "companyId": "3aabdfb8-3891-5011-ad35-8e2351c5fdaf",\n  "event": "courseCompletion",\n  // highlight-next-line\n  "notifiableId": "7670fdbe-15ed-504b-a680-d404fa4b0eb4",\n  "title": "New Student Orientation",\n  "userDetail": {\n    "id": "61149b2c-3f37-5032-be63-f5d984de10b6",\n    "firstName": "Bob",\n    "lastName": "Johnson",\n    // highlight-next-line\n    "externalCustomerId": "studentid12345@school.edu",\n    "sfContactId": null,\n    "sfAccountId": null,\n    "client": "00f928f4-8718-5043-9164-32398b165c60",\n    // highlight-next-line\n    "ref1": "StudentID12345",\n    "ref2": "Department?",\n    "ref3": "..."\n  }\n}'}}]);